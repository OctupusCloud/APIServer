{% extends "home.html" %}

{% load static %}
{% block about %}

<h3>API endpoit /api/v1/devices</h3>
<hr/>
<img src="{% static 'images/postman.png' %}" width="37%" class="float-end">
El endpoint <p style="color:blue" class="d-inline">devices</p> retorna los dispostivos almacenados en la tabla Devices de la aplicacion 
<p class="fst-italic d-inline">API</p> Server.<br><br>

<article id="url">
    <p class="fs-4 text-decoration-underline">URL</p>
    <p style="color:blue" class="d-inline">{/api/v1/enpoint}</p><br><br>
</article>
<br>

<article id="metodos">
    <p class="fs-4 text-decoration-underline">Métodos</p>
    <p style="color:blue" class="d-inline">GET</p><br><br>
</article>
<br>

<article id="python">
    <p class="fs-4 text-decoration-underline">Headers</p>

    <details>
        <summary><p style="color:blue" class="d-inline">Python Authorization Token:</p></summary>
        <br>
        <p style="color: black; margin-left:20px">Tokens en la tabla <a href="{% url 'Tokens' %}" title="Tokens">Tokens</a></p>
        
        <div class="card-body d-flex justify-content-between align-items-center py-2 apidev_code">
            <div id="text_python_t">
                <article class="indent_0">
                    import requests<br>
                    import json<br>
                    url = "http://apiserver.octupus.com/api/v1/devices"<br>
                    headers = {
                </article>
                <article class="indent_2">
                    'Authorization': 'Token c26b519346e0755bf9b864c0db8d3d36d854ab23',<br>
                    'Content-Type': 'application/json',
                </article>
                <article class="indent_0">
                    }<br>
                    response = requests.request("GET", url, headers=headers, data=payload)<br>
                    print(json.dumps(json.loads(respose.content), indent=3))
                </article>
            </div>
            <button onclick="copyToClipboard('text_python_t')" class="btn btn-primary" type="button">Copy</button>
        </div><br>
    </details>

    <details>
        <summary><p style="color:blue" class="d-inline">Python Authorization Basic:</p></summary>
        <br>
        <p style="color: black; margin-left:20px">Usuario/Password en la tabla <a href="{% url 'Usuarios' %}" title="Usuarios">Usuarios</a></p>

        <div class="card-body d-flex justify-content-between align-items-center py-2 apidev_code">
            <div id="text_python_b">
                <p style="color: black;">Basic Authorization usando 'Basic Auth Token' (base64 encoding de user:password)</p>
                <article class="indent_0">
                    import requests<br>
                    import json<br>
                    url = "http://apiserver.octupus.com/api/v1/devices"<br>
                    headers = {
                </article>
                <article class="indent_2">
                    'Authorization': 'Basic b2N0aW9uOk9jdGlvblNlcnZlcg==',<br>
                    'Content-Type': 'application/json',<br>
                </article>
                <article class="indent_0">
                    }<br>
                    response = requests.request("GET", url, headers=headers, data=payload)<br>
                    print(json.dumps(json.loads(respose.content), indent=3))
                </article>
            </div>
            <button onclick="copyToClipboard('text_python_b')" class="btn btn-primary" type="button">Copy</button>
        </div><br>

        <div class="card-body d-flex justify-content-between align-items-center py-2 apidev_code">
            <div id="text_python_bu">
                <p style="color: black;">Basic Authorization usando 'user/password'</p> 
                <article class="indent_0">
                    import requests<br>
                    import json<br>
                    url = "http://apiserver.octupus.com/api/v1/devices"<br>
                    user = 'oction'<br>
                    password = 'OctionServer'<br>
                    response = requests.get(url, auth=(user, password))<br>
                    print(json.dumps(json.loads(respose.content), indent=3))
                </article>
            </div>
            <button onclick="copyToClipboard('text_python_bu')" class="btn btn-primary" type="button">Copy</button>
        </div><br>
    </details>
</article>

<article id="curl">
    <details>
        <summary><p style="color:blue" class="d-inline">Curl Authorization Token:</p></summary>
        <br>
        <p style="color: black; margin-left:20px">Tokens en la tabla <a href="{% url 'Tokens' %}" title="Tokens">Tokens</a></p>

        <div class="card-body d-flex justify-content-between align-items-center py-2 apidev_code">
            <div id="text_curl_t">
                <article class="indent_0">
                    curl --location --request GET 'http://apiserver.octupus.com/api/v1/devices' \ <br>
                </article>
                <article class="indent_4">
                    --header 'Authorization: Token c26b519346e0755bf9b864c0db8d3d36d854ab23' \ <br>
                    --header 'Content-Type: application/json'<br>
                </article>
            </div>
            <button onclick="copyToClipboard('text_curl_t')" class="btn btn-primary" type="button">Copy</button>
        </div><br>
    </details>

    <details>
        <summary><p style="color:blue" class="d-inline">Curl Authorization Basic:</p></summary>
        <br>
        <p style="color: black; margin-left:20px">Usuario/Password en la tabla <a href="{% url 'Usuarios' %}" title="Usuarios">Usuarios</a></p>

        <div class="card-body d-flex justify-content-between align-items-center py-2 apidev_code">
            <div id="text_curl_b">
                <article class="indent_0">
                    curl --location --request GET 'http://apiserver.octupus.com/api/v1/devices' \ <br>
                <article>
                <article class="indent_4">
                    --header 'Authorization: Basic b2N0aW9uOk9jdGlvblNlcnZlcg==' \ <br>
                    --header 'Content-Type: application/json'<br>
                </article>
            </div>
            <button onclick="copyToClipboard('text_curl_b')" class="btn btn-primary" type="button">Copy</button>
        </div><br>
    </details>
</article>
<br><br>
<p class="fs-4 text-decoration-underline">Body</p>

El método <p style="color: blue;" class="d-inline">GET</p> no requiere <p style="color: blue;" class="d-inline">Body</p>
<br><br><br>

<article id="output">
    <p class="fs-4 text-decoration-underline">Output</p>

    <div class="card-body d-flex justify-content-between align-items-center py-2 apidev_code">
        <article id="text_curl_t">
            [<br>
            <article class="indent_2">
                {<br>
            </article>
            <article class="indent_4">
                "name": "Catalyst 2901",<br>
                "memory": 2048,<br>
                "vendor": "Cisco Systems",<br>
                "family": "Catalyst"<br>
            </article>
            <article class="indent_2">
                },<br>
                {<br>
            </article>
            <article class="indent_4">
                "name": "Catalyst 3700",<br>
                "memory": 4096,<br>
                "vendor": "Cisco Systems",<br>
                "family": "Catalyst"<br>
            </article>
            <article class="indent_2">
                },<br>
                {<br>
            </article>
            <article class="indent_4">
                "name": "Cisco CSR1000",<br>
                "memory": 4096,<br>
                "vendor": "Cisco Systems",<br>
                "family": "Routers"<br>
            </article>
            <article class="indent_2">
                }<br>
            </article>
            ]<br>
        </article>
    </div><br>
</article>


<hr/>
{% endblock %}